{% extends 'base.html' %}

{% block title %}
My Profile
{% endblock title %}

{% block content %}
<div class="centered1">
    <br>
    <h1>My Profile</h1>
    <hr>
    {% if profile_updated %}
    <h2>Your profile has been updated.</h2>
    <hr>
    {% endif %}
    <div>
        <div class="col-md-3" style="float: left; padding:5px;">
            <img style="width:75%; height:75%; border:solid black 1px; align-content:center;" src="{{profile.avatar.url}}">
        </div>
        <div class="col-md-9" style="float: right; padding:5px;">
            <strong>{{profile.slug}}</strong><br>
            Name : {{profile.first_name}} {{profile.last_name}}<br>
            <br>
            Bio<br>
            {{profile.bio}}<br>
            <br>
            <a href="{% url 'my-friends-list' %}" class="btn btn-primary">See Friends List</a>
            <a href="{% url 'my-received-invites' %}" class="btn btn-primary">See Received Requests</a>
            <a href="{% url 'pending-requests' %}" class="btn btn-primary">See Pending Requests</a>
            <a href="{% url 'available-profiles-to-invite' %}" class="btn btn-primary">Other People</a>
        </div>
    </div>
    <button type="button" id="update-profile-button" class="btn btn-primary">Update my profile</button>
    <br>
    <div id="update-form" style="visibility:hidden">
        <hr color="red">
        <form action="" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{profile_update_form.as_p}}
            <br>
            <button type="submit" class="btn btn-primary">Update</button>
        </form>
    </div>
</div>
{% endblock content %}

{% block scripts %}
<script>
    button = document.getElementById('update-profile-button');
    button.onclick = function(e) {
        form = document.getElementById('update-form');
        form.style.visibility = "visible";
    }
</script>
{% endblock scripts %}
